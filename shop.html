<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Ogani Template">
    <meta name="keywords" content="Ogani, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Online Appointment</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap" rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
</head>

<body>


    <!-- Humberger Begin -->
    <div class="humberger__menu__overlay"></div>
    <div class="humberger__menu__wrapper">
        <div class="humberger__menu__logo">
            <a href="#"><img src="img/logo.png" alt=""></a>
        </div>
        <div class="humberger__menu__cart">
        </div>
        <div class="humberger__menu__widget">
            <div class="header__top__right__language">
            </div>
        </div>
        <nav class="humberger__menu__nav mobile-menu">
            <ul>
                <li class="active"><a href="./index.html">Home</a></li>
                <li><a href="./shop-grid.html">Appointment</a></li>
                <li><a href="./contact.html">Contact</a></li>
            </ul>
        </nav>
        <div id="mobile-menu-wrap"></div>
    </div>
    <!-- Humberger End -->

    <!-- Header Section Begin -->
    <header class="header">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="header__logo" style="margin-top: 10px;">
                        <a href="./index.html"><h4 style="font-weight: bold;">Appointment</h4></a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <nav class="header__menu">
                        <ul>
                            <li><a href="./index.html">Home</a></li>
                            <li class="active"><a href="./shop.html">Appointment</a></li>
                            <li><a href="./contact.html">Contact</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3">
                    <div class="header__cart">
                    </div>
                </div>
            </div>
            <div class="humberger__open">
                <i class="fa fa-bars"></i>
            </div>
        </div>
    </header>
    <!-- Header Section End -->


    <!-- Breadcrumb Section Begin -
    <!-- Breadcrumb Section End -->

    <!-- Product Section Begin -->
    <section class="product spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-5">
                    <div class="sidebar">
                        <div class="sidebar__item">
                            <h4>Filter</h4>
                            <ul>
                                <label for="" style="font-weight: 700; font-size: 18px;">Start Time : </label>
                                <input type="Number" name="" id="startTimeFilter" style="font-weight: 500; font-size: 18px;" placeholder="Start Time">
                                <br><br>
                                <span style="font-weight: bold; text-align: center; margin-left:80px; font-size: 20px; padding-top: 200px;">OR</span>
                                <br><br>
                                <label for="" style="font-weight: 700; font-size: 18px;">End Time : </label>
                                <input type="Number" name="" id="endTimeFilter" style="font-weight: 500; font-size: 18px;" placeholder="End Time">
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-7">
                    <div class="product__discount">
                        <div class="section-title product__discount__title">
                            <h2>Consultants</h2>
                        </div>
                    </div>
                    <div class="row" id="productList">
                        
                    </div>
                </div>
            </div>
        </div>
    </section>



    !-- Start Newsletter Area -->
    <div class="pn-newsletter-area">
      <div class="pn-news-bg">
        <div class="test-overly"></div>
        <div class="container">
          <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
              <div class="pn-newsletter-text">
                <div class="pn-news-text text-center">
                  <h2>Our Newsletter</h2>
                  <p>Subscribe our newsletter</p>
                  <div class="subs-feilds">
                    <div class="subscribe-input">
                      <input type="email" class="email form-control width-80" id="sus_email" placeholder="Email">
                      <button type="submit" id="sus_submit" class="add-btn width-20">Subscribe</button>
                      <div id="msg_Submit" class="h3 text-center hidden"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- End Newsletter Area -->
    
    <style>
        /*------- Newsletter Css start ------*/
    .pn-newsletter-area {
      background: rgba(248, 248, 248, 0.8) url("https://whistling.in/images/website/hbg_hdsound.jpg");
      background-size: cover;
      background-position: center top;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
    
    .pn-news-bg {
      position: relative;
    }
    
    .pn-newsletter-text {
      margin: 70px 0;
      padding: 30px 40px;
    }
    
    .pn-news-text> h2 {
      color: #fff;
      font-size: 44px;
      font-weight: 500;
      line-height: 50px;
    }
    
    .pn-news-text p {
      font-size: 18px;
      color: #fff;
    }
    
    .pn-newsletter-text .section-headline p {
      margin-bottom: 0;
    }
    
    .subs-feilds {
      border: 1px solid #fff;
      display: inline-block;
      height: 52px;
      margin-top: 30px;
      width: 60%;
      border-radius: 30px;
      overflow: hidden;
    }
    
    .subscribe-input input {
      background: transparent none repeat scroll 0 0;
      border: medium none;
      color: #fff;
      float: left;
      font-size: 15px;
      line-height: 2px;
      padding: 11px 15px;
      width: 80%;
      height: 50px;
    }
    
    .subscribe-input button {
      background: #3ec1d5 none repeat scroll 0 0;
      border: medium none;
      border-radius: 0 20px 20px 0;
      color: #fff;
      float: left;
      font-size: 16px;
      font-weight: 700;
      padding: 10px 20px;
      width: 20%;
    }
    
    .subscribe-input button:hover {
      background: #fff none repeat scroll 0 0;
      color: #3ec1d5;
    }
    
    
    .test-overly {
      background: rgba(0, 0, 0, 0.80);
      position: absolute;
      width: 100%;
      height: 100%;
    }
    </style>
    
    
    
    
      <!-- Site footer -->
        <footer class="site-footer">
          <div class="container">
            <div class="row">
              <div class="col-sm-12 col-md-6">
                <h6>About</h6>
                <p class="text-justify">Scanfcode.com <i>CODE WANTS TO BE SIMPLE </i> is an initiative  to help the upcoming programmers with the code. Scanfcode focuses on providing the most efficient code or snippets as the code wants to be simple. We will help programmers build up concepts in different programming languages that include C, C++, Java, HTML, CSS, Bootstrap, JavaScript, PHP, Android, SQL and Algorithm.</p>
              </div>
    
              <div class="col-xs-6 col-md-3">
                <h6>Categories</h6>
                <ul class="footer-links">
                  <li><a href="http://scanfcode.com/category/c-language/">C</a></li>
                  <li><a href="http://scanfcode.com/category/front-end-development/">UI Design</a></li>
                  <li><a href="http://scanfcode.com/category/back-end-development/">PHP</a></li>
                  <li><a href="http://scanfcode.com/category/java-programming-language/">Java</a></li>
                  <li><a href="http://scanfcode.com/category/android/">Android</a></li>
                  <li><a href="http://scanfcode.com/category/templates/">Templates</a></li>
                </ul>
              </div>
    
              <div class="col-xs-6 col-md-3">
                <h6>Quick Links</h6>
                <ul class="footer-links">
                  <li><a href="http://scanfcode.com/about/">About Us</a></li>
                  <li><a href="http://scanfcode.com/contact/">Contact Us</a></li>
                  <li><a href="http://scanfcode.com/contribute-at-scanfcode/">Contribute</a></li>
                  <li><a href="http://scanfcode.com/privacy-policy/">Privacy Policy</a></li>
                  <li><a href="http://scanfcode.com/sitemap/">Sitemap</a></li>
                </ul>
              </div>
            </div>
            <hr>
          </div>
          <div class="container">
            <div class="row">
              <div class="col-md-8 col-sm-6 col-xs-12">
                <p class="copyright-text">Copyright &copy; 2017 All Rights Reserved by 
             <a href="#">Scanfcode</a>.
                </p>
              </div>
    
              <div class="col-md-4 col-sm-6 col-xs-12">
                <ul class="social-icons">
                  <li><a class="facebook" href="#"><i class="fa fa-facebook"></i></a></li>
                  <li><a class="twitter" href="#"><i class="fa fa-twitter"></i></a></li>
                  <li><a class="dribbble" href="#"><i class="fa fa-dribbble"></i></a></li>
                  <li><a class="linkedin" href="#"><i class="fa fa-linkedin"></i></a></li>   
                </ul>
              </div>
            </div>
          </div>
    </footer>
    
    <style>
        .site-footer
    {
      background-color:#26272b;
      padding:45px 0 20px;
      font-size:15px;
      line-height:24px;
      color:#737373;
    }
    .site-footer hr
    {
      border-top-color:#bbb;
      opacity:0.5
    }
    .site-footer hr.small
    {
      margin:20px 0
    }
    .site-footer h6
    {
      color:#fff;
      font-size:16px;
      text-transform:uppercase;
      margin-top:5px;
      letter-spacing:2px
    }
    .site-footer a
    {
      color:#737373;
    }
    .site-footer a:hover
    {
      color:#3366cc;
      text-decoration:none;
    }
    .footer-links
    {
      padding-left:0;
      list-style:none
    }
    .footer-links li
    {
      display:block
    }
    .footer-links a
    {
      color:#737373
    }
    .footer-links a:active,.footer-links a:focus,.footer-links a:hover
    {
      color:#3366cc;
      text-decoration:none;
    }
    .footer-links.inline li
    {
      display:inline-block
    }
    .site-footer .social-icons
    {
      text-align:right
    }
    .site-footer .social-icons a
    {
      width:40px;
      height:40px;
      line-height:40px;
      margin-left:6px;
      margin-right:0;
      border-radius:100%;
      background-color:#33353d
    }
    .copyright-text
    {
      margin:0
    }
    @media (max-width:991px)
    {
      .site-footer [class^=col-]
      {
        margin-bottom:30px
      }
    }
    @media (max-width:767px)
    {
      .site-footer
      {
        padding-bottom:0
      }
      .site-footer .copyright-text,.site-footer .social-icons
      {
        text-align:center
      }
    }
    .social-icons
    {
      padding-left:0;
      margin-bottom:0;
      list-style:none
    }
    .social-icons li
    {
      display:inline-block;
      margin-bottom:4px
    }
    .social-icons li.title
    {
      margin-right:15px;
      text-transform:uppercase;
      color:#96a2b2;
      font-weight:700;
      font-size:13px
    }
    .social-icons a{
      background-color:#eceeef;
      color:#818a91;
      font-size:16px;
      display:inline-block;
      line-height:44px;
      width:44px;
      height:44px;
      text-align:center;
      margin-right:8px;
      border-radius:100%;
      -webkit-transition:all .2s linear;
      -o-transition:all .2s linear;
      transition:all .2s linear
    }
    .social-icons a:active,.social-icons a:focus,.social-icons a:hover
    {
      color:#fff;
      background-color:#29aafe
    }
    .social-icons.size-sm a
    {
      line-height:34px;
      height:34px;
      width:34px;
      font-size:14px
    }
    .social-icons a.facebook:hover
    {
      background-color:#3b5998
    }
    .social-icons a.twitter:hover
    {
      background-color:#00aced
    }
    .social-icons a.linkedin:hover
    {
      background-color:#007bb6
    }
    .social-icons a.dribbble:hover
    {
      background-color:#ea4c89
    }
    @media (max-width:767px)
    {
      .social-icons li.title
      {
        display:block;
        margin-right:0;
        font-weight:600
      }
    }
    </style>
    








    <script>
        const productList = document.getElementById("productList");
        const startTimeFilter = document.getElementById("startTimeFilter");
        const endTimeFilter = document.getElementById("endTimeFilter");

        // Function to fetch and display products
        const fetchProducts = () => {
            // Fetch product data from the API
            fetch("http://localhost:8080/api/v1/consult/getconsult")
                .then((response) => response.json())
                .then((products) => {
                    // Clear the existing product list
                    productList.innerHTML = "";

                    // Loop through products and generate HTML content
                    products.forEach((product) => {
                        const productItem = document.createElement("div");
                        productItem.className = "col-lg-4 col-md-6 col-sm-6";
                        productItem.innerHTML = `
                        <div class="product__item">
                        <div class="product__item__pic set-bg">
                            <img src="img/user.jpg" alt="">
                            <ul class="product__hover">
                            </ul>
                        </div>
                        <div class="product__item__text" style="margin-top:10px;">
                            <h6><a href="${getUserLink(product)}" style="text-align: center; font-weight: bold; text-transform: capitalize;">${product.name}</a></h6>
                            <div style="text-align: center; font-weight: bold; margin-bottom: -50px;">
                                <p style="text-align: center; font-weight: 600; color: rgb(82, 78, 78);">Available Time: ${product.start_time} -  ${product.end_time}</p>&nbsp;
                            </div>
                            <a href="${getUserLink(product)}"><button class="btn btn-outline-primary mt-4">Book Appointment</button></a>
                        </div>
                    </div>`;

                        productList.appendChild(productItem);
                    });
                })
                .catch((error) => {
                    console.error("Error fetching product data:", error);
                });
        };


        // Function to fetch and display filtered products
        const fetchFilteredProducts = (startTime) => {
            // Fetch filtered product data from the API
            fetch(`http://localhost:8080/api/v1/consult/filter-by-start-time`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    start_time: startTime,

                }),
            })
                .then((response) => response.json())
                .then((filteredProducts) => {
                    // Clear the existing product list
                    productList.innerHTML = "";
                    if (filteredProducts.length === 0) {
                        // Create an error message element
                        const errorMessage = document.createElement("div");
                        errorMessage.className = "col-lg-9 text-danger text-bold";
                        errorMessage.textContent = "Consultant Not Found.";

                        productList.appendChild(errorMessage);
                    } else {
                        // Loop through filtered products and generate HTML content
                        filteredProducts.forEach((product) => {
                            const productItem = document.createElement("div");
                            productItem.className = "col-lg-4 col-md-6 col-sm-6";
                        productItem.innerHTML = `
                        <div class="product__item">
                        <div class="product__item__pic set-bg">
                            <img src="img/user.jpg" alt="">
                            <ul class="product__hover">
                            </ul>
                        </div>
                        <div class="product__item__text" style="margin-top:10px;">
                            <h6><a href="${getUserLink(product)}" style="text-align: center; font-weight: bold; text-transform: capitalize;">${product.name}</a></h6>
                            <div style="text-align: center; font-weight: bold; margin-bottom: -50px;">
                                <p style="text-align: center; font-weight: 600; color: rgb(82, 78, 78);">Available Time: ${product.start_time} -  ${product.end_time}</p>&nbsp;
                            </div>
                            <a href="${getUserLink(product)}"><button class="btn btn-outline-primary mt-4">Book Appointment</button></a>
                        </div>
                    </div>`;

                            productList.appendChild(productItem);
                        });
                    }
                })
                .catch((error) => {
                    console.error("Error fetching filtered product data:", error);
                });
        };


        // Function to fetch and display filtered products
        const fetchFilteredProductsend = (endTime) => {
            // Fetch filtered product data from the API
            fetch(`http://localhost:8080/api/v1/consult/filter-by-end-time`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    end_time: endTime,

                }),
            })
                .then((response) => response.json())
                .then((filteredProducts) => {
                    // Clear the existing product list
                    productList.innerHTML = "";
                    if (filteredProducts.length === 0) {
                        // Create an error message element
                        const errorMessage = document.createElement("div");
                        errorMessage.className = "col-lg-9 text-danger text-bold";
                        errorMessage.textContent = "Consultant Not Found.";

                        productList.appendChild(errorMessage);
                    } else {
                        // Loop through filtered products and generate HTML content
                        filteredProducts.forEach((product) => {
                            const productItem = document.createElement("div");
                            productItem.className = "col-lg-4 col-md-6";
                            productItem.innerHTML = `
                        <div class="product__item">
                                <div class="product__item__pic set-bg">
                                    <img src="img/user.jpg" alt="">
                                    <ul class="product__hover">
                                    </ul>
                                </div>
                                <div class="product__item__text" style="margin-top:10px;">
                    <h6><a href="${getUserLink(product)}" style="text-align: center; font-weight: bold; text-transform: capitalize;">${product.name}</a></h6>
                    <div style="text-align: center; font-weight: 500; margin-bottom: -50px;">
                        <p style="text-align: center; font-weight: 600; color: rgb(82, 78, 78);">Available Time: ${product.start_time} -  ${product.end_time}</p>&nbsp;
        </div>
        <a href="${getUserLink(product)}"><button class="btn btn-outline-primary mt-4">Book Appointment</button></a>
                            </div>
                        `;

                            productList.appendChild(productItem);
                        });
                    }
                })
                .catch((error) => {
                    console.error("Error fetching filtered product data:", error);
                });
        };




        // Event listener for input changes in the filter fields
        startTimeFilter.addEventListener("input", () => {
            const startTime = startTimeFilter.value;
            const endTime = endTimeFilter.value;
            if (startTime === "") {
                fetchProducts();
            } else {
                fetchFilteredProducts(startTime);
            }
        });

        endTimeFilter.addEventListener("input", () => {
            const startTime = startTimeFilter.value;
            const endTime = endTimeFilter.value;
            if (endTime === "") {
                fetchProducts();
            } else {
                fetchFilteredProductsend(endTime);
            }
        });

        // Initial fetch to load all products by default
        fetchProducts();


        // Function to determine the appropriate link based on user login status
        const getUserLink = (product) => {
            // Replace this with your actual logic to check user session or authentication
            var username = sessionStorage.getItem('userName');
            if (!username) {
                window.location.href = 'login.html'; // Redirect to login page
            } else {
                return `checkout.html?name=${encodeURIComponent(product.name)}`;
            }
        };
    </script>
    <!-- Product Section End -->

    <!-- Js Plugins -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/mixitup.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>



</body>

</html>